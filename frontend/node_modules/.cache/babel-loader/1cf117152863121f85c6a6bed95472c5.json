{"ast":null,"code":"var _jsxFileName = \"/home/blizzard/Documents/MernStackApp/frontend/src/App.js\";\nimport React from 'react';\nimport UserTable from './components/UserTable';\nimport Form from './components/Form';\nimport Message from './components/Message';\nimport UserAPI from './UserAPI';\nconst state = 'Home';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: [],\n      isEditForm: false,\n      user: {\n        firstName: \"\",\n        lastName: \"\",\n        job: \"\"\n      },\n      message: \"\"\n    };\n    this.deleteHandler = this.deleteHandler.bind(this);\n    this.addHandler = this.addHandler.bind(this);\n    this.updateHandler = this.updateHandler.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.showEditForm = this.showEditForm.bind(this);\n  }\n\n  componentDidMount() {\n    UserAPI.getUser().then(data => {\n      console.log(data);\n      this.setState({\n        users: data\n      });\n    });\n  }\n\n  resetForm() {\n    this.setState({\n      user: {\n        firstName: \"\",\n        lastName: \"\",\n        job: \"\"\n      }\n    });\n  }\n\n  handleChange(e) {\n    this.setState({\n      user: { ...this.state.user,\n        [e.target.name]: e.target.value\n      }\n    });\n  }\n\n  showEditForm(user) {\n    this.setState({\n      isEditForm: true,\n      user: user\n    });\n  }\n\n  async deleteHandler(id) {\n    {\n      /*console.log(id.user._id);*/\n    }\n    const deleteData = await UserAPI.deleteUser(id.user._id);\n    const message = deleteData.message;\n\n    if (message.msgError) {\n      this.setState({\n        message\n      });\n    } else {\n      const data = await UserAPI.getUser();\n      this.setState({\n        message,\n        users: data\n      });\n    }\n  }\n\n  async updateHandler(e) {\n    e.preventDefault();\n    const updateData = await UserAPI.updateUser(this.state.user);\n    const message = updateData.message;\n\n    if (message.msgError) {\n      this.setState({\n        message\n      });\n    } else {\n      const data = await UserAPI.getUser();\n      this.setState({\n        message,\n        users: data\n      });\n    }\n\n    this.setState({\n      isEditForm: false\n    });\n    this.resetForm();\n  }\n\n  async addHandler(e) {\n    e.preventDefault();\n    const postData = await UserAPI.createUser(this.state.user);\n    const message = postData.message;\n\n    if (message.msgError) {\n      this.setState({\n        message\n      });\n    } else {\n      const data = await UserAPI.getUser();\n      this.setState({\n        message,\n        users: data\n      });\n    }\n\n    this.resetForm();\n  }\n\n  renderUserTable() {\n    {\n      /*console.log(\"Here First\")\n      console.log(this.state.users)*/\n    }\n\n    if (this.state.users.length > 0) {\n      return React.createElement(UserTable, {\n        users: this.state.users,\n        deleteHandler: this.deleteHandler,\n        showEditForm: this.showEditForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      });\n    }\n\n    return null;\n  }\n\n  renderForm() {\n    return React.createElement(Form, {\n      isEditForm: this.state.isEditForm,\n      user: this.state.user,\n      handleChange: this.handleChange,\n      handler: !this.state.isEditForm ? this.addHandler : this.updateHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    });\n  }\n\n  renderMessage() {\n    if (this.state.message === \"\") return null;\n    return React.createElement(Message, {\n      message: this.state.message,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, this.renderUserTable(), this.renderForm(), this.renderMessage()), React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/blizzard/Documents/MernStackApp/frontend/src/App.js"],"names":["React","UserTable","Form","Message","UserAPI","state","App","Component","constructor","props","users","isEditForm","user","firstName","lastName","job","message","deleteHandler","bind","addHandler","updateHandler","handleChange","showEditForm","componentDidMount","getUser","then","data","console","log","setState","resetForm","e","target","name","value","id","deleteData","deleteUser","_id","msgError","preventDefault","updateData","updateUser","postData","createUser","renderUserTable","length","renderForm","renderMessage","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport UserTable from './components/UserTable';\nimport Form from './components/Form';\nimport Message from './components/Message';\nimport UserAPI from './UserAPI';\n\nconst state = 'Home';\n\nclass App extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            users: [],\n            isEditForm: false,\n            user: {\n                firstName: \"\",\n                lastName: \"\",\n                job: \"\"\n            },\n            message: \"\"\n        };\n        \n        this.deleteHandler = this.deleteHandler.bind(this);\n        this.addHandler = this.addHandler.bind(this);\n        this.updateHandler = this.updateHandler.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.showEditForm = this.showEditForm.bind(this);\n    }\n\n    componentDidMount(){\n        UserAPI.getUser().then(data=>{\n            console.log(data);\n            this.setState({users : data})});\n    }\n\n    resetForm(){\n        this.setState({\n            user: {\n                firstName : \"\",\n                lastName : \"\",\n                job : \"\"\n            }\n        });\n    }\n\n    handleChange(e){\n        this.setState({\n            user: {\n                ...this.state.user,\n                [e.target.name] : e.target.value\n            }\n        });\n    }\n\n    showEditForm(user){\n        this.setState({isEditForm: true, user : user});\n    }\n\n    async deleteHandler(id){\n        {/*console.log(id.user._id);*/}\n        const deleteData = await UserAPI.deleteUser(id.user._id);\n        const message = deleteData.message;\n        if(message.msgError){\n            this.setState({message});\n        }\n        else{\n            const data = await UserAPI.getUser();\n            this.setState({message,users : data})\n        }\n    }\n\n    async updateHandler(e){\n        e.preventDefault();\n        const updateData = await UserAPI.updateUser(this.state.user);\n        const message = updateData.message;\n        if(message.msgError){\n            this.setState({message});\n        }\n        else{\n            const data = await UserAPI.getUser();\n            this.setState({message,users : data})\n        }\n        this.setState({isEditForm:false});\n        this.resetForm();\n    }\n\n    async addHandler(e){\n        e.preventDefault();\n        const postData = await UserAPI.createUser(this.state.user);\n        const message = postData.message;\n        if(message.msgError){\n            this.setState({message});\n        }\n        else{\n            const data = await UserAPI.getUser();\n            this.setState({message,users : data})\n        }\n        this.resetForm();\n    }\n\n    renderUserTable(){\n        {/*console.log(\"Here First\")\n    console.log(this.state.users)*/}\n        if(this.state.users.length > 0){\n            return(\n                <UserTable users = {this.state.users} \n                           deleteHandler={this.deleteHandler} \n                           showEditForm={this.showEditForm}/>\n            );\n        }\n        return null;\n    }\n\n    renderForm(){\n        return(\n            <Form isEditForm={this.state.isEditForm}\n                  user={this.state.user}\n                  handleChange={this.handleChange}\n                  handler={!this.state.isEditForm ? this.addHandler : this.updateHandler}/>\n        );\n    }\n\n    renderMessage(){\n        if(this.state.message === \"\")\n            return null;\n        return(\n            <Message message={this.state.message}/>\n        );\n    }\n\n    render(){\n        return(\n            <div className=\"row\">\n                <div className=\"col\"></div>\n                <div className=\"col-10\">\n                    {this.renderUserTable()}\n                    {this.renderForm()}\n                    {this.renderMessage()}\n                </div>\n                <div className=\"col\"></div>\n            </div>\n        )\n    }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}
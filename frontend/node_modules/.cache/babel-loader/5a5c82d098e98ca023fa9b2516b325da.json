{"ast":null,"code":"var _jsxFileName = \"/home/blizzard/Documents/MernStackApp/frontend/src/App.js\";\nimport React from 'react';\nimport UserTable from './components/UserTable';\nimport Form from './components/Form';\nimport Message from './components/Message';\nimport UserAPI from './UserAPI';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: [],\n      isEditForm: false,\n      user: {\n        firstName: \"\",\n        lastName: \"\",\n        job: \"\"\n      },\n      message: \"\"\n    };\n    this.deleteHandler = this.deleteHandler.bind(this);\n    this.addHandler = this.addHandler.bind(this);\n    this.updateHandler = this.updateHandler.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.showEditForm = this.showEditForm.bind(this);\n  }\n\n  componentDidMount() {\n    UserAPI.getUser().then(data => {\n      console.log(data);\n      this.setState({\n        users: data.response\n      });\n    });\n  }\n\n  resetForm() {\n    this.setState({\n      user: {\n        firstName: \"\",\n        lastName: \"\",\n        job: \"\"\n      }\n    });\n  }\n\n  handleChange(e) {\n    this.setState({\n      user: { ...this.state.user,\n        [e.target.name]: e.target.value\n      }\n    });\n  }\n\n  showEditForm(user) {\n    this.setState({\n      isEditForm: true,\n      user: user\n    });\n  }\n\n  async deleteHandler(id) {\n    const deleteData = await UserAPI.deleteUser(id);\n    const message = deleteData.message;\n\n    if (message.msgError) {\n      this.setState({\n        message\n      });\n    } else {\n      const data = await UserAPI.getUser();\n      this.setState({\n        message,\n        users: data.response\n      });\n    }\n  }\n\n  async updateHandler(e) {\n    e.preventDefault();\n    const updateData = await UserAPI.updateUser(this.state.user);\n    const message = updateData.message;\n\n    if (message.msgError) {\n      this.setState({\n        message\n      });\n    } else {\n      const data = await UserAPI.getUser();\n      this.setState({\n        message,\n        users: data.response\n      });\n    }\n\n    this.setState({\n      isEditForm: false\n    });\n    this.resetForm();\n  }\n\n  async addHandler(e) {\n    e.preventDefault();\n    const postData = await UserAPI.createUser(this.state.user);\n    const message = postData.message;\n\n    if (message.msgError) {\n      this.setState({\n        message\n      });\n    } else {\n      const data = await UserAPI.getUser();\n      this.setState({\n        message,\n        users: data.response\n      });\n    }\n\n    this.resetForm();\n  }\n\n  renderUserTable() {\n    if (this.state.users.length > 0) {\n      return React.createElement(UserTable, {\n        users: this.state.users,\n        deleteHandler: this.deleteHandler,\n        showEditForm: this.showEditForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      });\n    }\n\n    return null;\n  }\n\n  renderForm() {\n    return React.createElement(Form, {\n      isEditForm: this.state.isEditForm,\n      user: this.state.user,\n      handleChange: this.handleChange,\n      handler: !this.state.isEditForm ? this.addHandler : this.updateHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    });\n  }\n\n  renderMessage() {\n    if (this.state.message === \"\") return null;\n    return React.createElement(Message, {\n      message: this.state.message,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, this.renderUserTable(), this.renderForm(), this.renderMessage()), React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/blizzard/Documents/MernStackApp/frontend/src/App.js"],"names":["React","UserTable","Form","Message","UserAPI","App","Component","constructor","props","state","users","isEditForm","user","firstName","lastName","job","message","deleteHandler","bind","addHandler","updateHandler","handleChange","showEditForm","componentDidMount","getUser","then","data","console","log","setState","response","resetForm","e","target","name","value","id","deleteData","deleteUser","msgError","preventDefault","updateData","updateUser","postData","createUser","renderUserTable","length","renderForm","renderMessage","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport UserTable from './components/UserTable';\nimport Form from './components/Form';\nimport Message from './components/Message';\nimport UserAPI from './UserAPI';\n\nclass App extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            users: [],\n            isEditForm: false,\n            user: {\n                firstName: \"\",\n                lastName: \"\",\n                job: \"\"\n            },\n            message: \"\"\n        };\n        \n        this.deleteHandler = this.deleteHandler.bind(this);\n        this.addHandler = this.addHandler.bind(this);\n        this.updateHandler = this.updateHandler.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.showEditForm = this.showEditForm.bind(this);\n    }\n\n    componentDidMount(){\n        UserAPI.getUser().then(data=>{\n            console.log(data)\n            this.setState({users : data.response})});\n    }\n\n    resetForm(){\n        this.setState({\n            user: {\n                firstName : \"\",\n                lastName : \"\",\n                job : \"\"\n            }\n        });\n    }\n\n    handleChange(e){\n        this.setState({\n            user: {\n                ...this.state.user,\n                [e.target.name] : e.target.value\n            }\n        });\n    }\n\n    showEditForm(user){\n        this.setState({isEditForm: true, user : user});\n    }\n\n    async deleteHandler(id){\n        const deleteData = await UserAPI.deleteUser(id);\n        const message = deleteData.message;\n        if(message.msgError){\n            this.setState({message});\n        }\n        else{\n            const data = await UserAPI.getUser();\n            this.setState({message,users : data.response})\n        }\n    }\n\n    async updateHandler(e){\n        e.preventDefault();\n        const updateData = await UserAPI.updateUser(this.state.user);\n        const message = updateData.message;\n        if(message.msgError){\n            this.setState({message});\n        }\n        else{\n            const data = await UserAPI.getUser();\n            this.setState({message,users : data.response})\n        }\n        this.setState({isEditForm:false});\n        this.resetForm();\n    }\n\n    async addHandler(e){\n        e.preventDefault();\n        const postData = await UserAPI.createUser(this.state.user);\n        const message = postData.message;\n        if(message.msgError){\n            this.setState({message});\n        }\n        else{\n            const data = await UserAPI.getUser();\n            this.setState({message,users : data.response})\n        }\n        this.resetForm();\n    }\n\n    renderUserTable(){\n        if(this.state.users.length > 0){\n            return(\n                <UserTable users = {this.state.users} \n                           deleteHandler={this.deleteHandler} \n                           showEditForm={this.showEditForm}/>\n            );\n        }\n        return null;\n    }\n\n    renderForm(){\n        return(\n            <Form isEditForm={this.state.isEditForm}\n                  user={this.state.user}\n                  handleChange={this.handleChange}\n                  handler={!this.state.isEditForm ? this.addHandler : this.updateHandler}/>\n        );\n    }\n\n    renderMessage(){\n        if(this.state.message === \"\")\n            return null;\n        return(\n            <Message message={this.state.message}/>\n        );\n    }\n\n    render(){\n        return(\n            <div className=\"row\">\n                <div className=\"col\"></div>\n                <div className=\"col-10\">\n                    {this.renderUserTable()}\n                    {this.renderForm()}\n                    {this.renderMessage()}\n                </div>\n                <div className=\"col\"></div>\n            </div>\n        )\n    }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from\"/home/blizzard/Documents/MernStackApp/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/blizzard/Documents/MernStackApp/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/blizzard/Documents/MernStackApp/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/blizzard/Documents/MernStackApp/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/blizzard/Documents/MernStackApp/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/blizzard/Documents/MernStackApp/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/blizzard/Documents/MernStackApp/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/blizzard/Documents/MernStackApp/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/blizzard/Documents/MernStackApp/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/blizzard/Documents/MernStackApp/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import UserTable from'./components/UserTable';import Form from'./components/Form';import Message from'./components/Message';import UserAPI from'./UserAPI';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.state={users:[],isEditForm:false,user:{firstName:\"\",lastName:\"\",job:\"\"},message:\"\"},_this.deleteHandler=_this.deleteHandler.bind(_assertThisInitialized(_this));_this.addHandler=_this.addHandler.bind(_assertThisInitialized(_this));_this.updateHandler=_this.updateHandler.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.showEditForm=_this.showEditForm.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;UserAPI.getUsers().then(function(data){_this2.setState({users:data.response});});}},{key:\"resetForm\",value:function resetForm(){this.setState({user:{firstName:\"\",lastName:\"\",job:\"\"}});}},{key:\"handleChange\",value:function handleChange(e){this.setState({user:_objectSpread({},this.state.user,_defineProperty({},e.target.name,e.target.value))});}},{key:\"showEditForm\",value:function showEditForm(user){this.setState({isEditForm:true,user:user});}},{key:\"deleteHandler\",value:function(){var _deleteHandler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var deleteData,message,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return UserAPI.deleteUser(id);case 2:deleteData=_context.sent;message=deleteData.message;if(!message.msgError){_context.next=8;break;}this.setState({message:message});_context.next=12;break;case 8:_context.next=10;return UserAPI.getUsers();case 10:data=_context.sent;this.setState({message:message,users:data.response});case 12:case\"end\":return _context.stop();}}},_callee,this);}));function deleteHandler(_x){return _deleteHandler.apply(this,arguments);}return deleteHandler;}()},{key:\"updateHandler\",value:function(){var _updateHandler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var updateData,message,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.next=3;return UserAPI.updateUser(this.state.user);case 3:updateData=_context2.sent;message=updateData.message;if(!message.msgError){_context2.next=9;break;}this.setState({message:message});_context2.next=13;break;case 9:_context2.next=11;return UserAPI.getUsers();case 11:data=_context2.sent;this.setState({message:message,users:data.response});case 13:this.setState({isEditForm:false});this.resetForm();case 15:case\"end\":return _context2.stop();}}},_callee2,this);}));function updateHandler(_x2){return _updateHandler.apply(this,arguments);}return updateHandler;}()},{key:\"addHandler\",value:function(){var _addHandler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){var postData,message,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();_context3.next=3;return UserAPI.createUser(this.state.user);case 3:postData=_context3.sent;message=postData.message;if(!message.msgError){_context3.next=9;break;}this.setState({message:message});_context3.next=13;break;case 9:_context3.next=11;return UserAPI.getUsers();case 11:data=_context3.sent;this.setState({message:message,users:data.response});case 13:this.resetForm();case 14:case\"end\":return _context3.stop();}}},_callee3,this);}));function addHandler(_x3){return _addHandler.apply(this,arguments);}return addHandler;}()},{key:\"renderUserTable\",value:function renderUserTable(){if(this.state.users.length>0){return React.createElement(UserTable,{users:this.state.users,deleteHandler:this.deleteHandler,showEditForm:this.showEditForm});}return null;}},{key:\"renderForm\",value:function renderForm(){return React.createElement(Form,{isEditForm:this.state.isEditForm,user:this.state.user,handleChange:this.handleChange,handler:!this.state.isEditForm?this.addHandler:this.updateHandler});}},{key:\"renderMessage\",value:function renderMessage(){if(this.state.message===\"\")return null;return React.createElement(Message,{message:this.state.message});}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col\"}),React.createElement(\"div\",{className:\"col-10\"},this.renderUserTable(),this.renderForm(),this.renderMessage()),React.createElement(\"div\",{className:\"col\"}));}}]);return App;}(React.Component);","map":{"version":3,"sources":["/home/blizzard/Documents/MernStackApp/frontend/src/App.js"],"names":["React","UserTable","Form","Message","UserAPI","App","props","state","users","isEditForm","user","firstName","lastName","job","message","deleteHandler","bind","addHandler","updateHandler","handleChange","showEditForm","getUsers","then","data","setState","response","e","target","name","value","id","deleteUser","deleteData","msgError","preventDefault","updateUser","updateData","resetForm","createUser","postData","length","renderUserTable","renderForm","renderMessage","Component"],"mappings":"syCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,C,GAEMC,CAAAA,G,yEACF,aAAYC,KAAZ,CAAkB,qCACd,qEAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CACTC,KAAK,CAAG,EADC,CAETC,UAAU,CAAG,KAFJ,CAGTC,IAAI,CAAG,CACHC,SAAS,CAAG,EADT,CAEHC,QAAQ,CAAG,EAFR,CAGHC,GAAG,CAAG,EAHH,CAHE,CAQTC,OAAO,CAAG,EARD,CAAb,CAUA,MAAKC,aAAL,CAAqB,MAAKA,aAAL,CAAmBC,IAAnB,+BAVrB,CAWA,MAAKC,UAAL,CAAkB,MAAKA,UAAL,CAAgBD,IAAhB,+BAAlB,CACA,MAAKE,aAAL,CAAqB,MAAKA,aAAL,CAAmBF,IAAnB,+BAArB,CACA,MAAKG,YAAL,CAAoB,MAAKA,YAAL,CAAkBH,IAAlB,+BAApB,CACA,MAAKI,YAAL,CAAoB,MAAKA,YAAL,CAAkBJ,IAAlB,+BAApB,CAhBc,aAiBjB,C,6EAEkB,iBACfZ,OAAO,CAACiB,QAAR,GAAmBC,IAAnB,CAAwB,SAAAC,IAAI,CAAE,CAAC,MAAI,CAACC,QAAL,CAAc,CAAChB,KAAK,CAAGe,IAAI,CAACE,QAAd,CAAd,EAAuC,CAAtE,EACH,C,6CAEU,CACP,KAAKD,QAAL,CAAc,CACVd,IAAI,CAAE,CACFC,SAAS,CAAG,EADV,CAEFC,QAAQ,CAAG,EAFT,CAGFC,GAAG,CAAG,EAHJ,CADI,CAAd,EAOH,C,kDAEYa,C,CAAE,CACX,KAAKF,QAAL,CAAc,CACVd,IAAI,kBACG,KAAKH,KAAL,CAAWG,IADd,oBAECgB,CAAC,CAACC,MAAF,CAASC,IAFV,CAEkBF,CAAC,CAACC,MAAF,CAASE,KAF3B,EADM,CAAd,EAMH,C,kDAEYnB,I,CAAK,CACd,KAAKc,QAAL,CAAc,CAACf,UAAU,CAAE,IAAb,CAAmBC,IAAI,CAAGA,IAA1B,CAAd,EACH,C,oIAEmBoB,E,oKACS1B,CAAAA,OAAO,CAAC2B,UAAR,CAAmBD,EAAnB,C,QAAnBE,U,eACAlB,O,CAAUkB,UAAU,CAAClB,O,KACxBA,OAAO,CAACmB,Q,yBACP,KAAKT,QAAL,CAAc,CAACV,OAAO,CAAPA,OAAD,CAAd,E,qDAGmBV,CAAAA,OAAO,CAACiB,QAAR,E,SAAbE,I,eACN,KAAKC,QAAL,CAAc,CAACV,OAAO,CAAPA,OAAD,CAASN,KAAK,CAAGe,IAAI,CAACE,QAAtB,CAAd,E,oSAIYC,C,kJAChBA,CAAC,CAACQ,cAAF,G,uBACyB9B,CAAAA,OAAO,CAAC+B,UAAR,CAAmB,KAAK5B,KAAL,CAAWG,IAA9B,C,QAAnB0B,U,gBACAtB,O,CAAUsB,UAAU,CAACtB,O,KACxBA,OAAO,CAACmB,Q,0BACP,KAAKT,QAAL,CAAc,CAACV,OAAO,CAAPA,OAAD,CAAd,E,uDAGmBV,CAAAA,OAAO,CAACiB,QAAR,E,SAAbE,I,gBACN,KAAKC,QAAL,CAAc,CAACV,OAAO,CAAPA,OAAD,CAASN,KAAK,CAAGe,IAAI,CAACE,QAAtB,CAAd,E,QAEJ,KAAKD,QAAL,CAAc,CAACf,UAAU,CAAC,KAAZ,CAAd,EACA,KAAK4B,SAAL,G,iSAGaX,C,gJACbA,CAAC,CAACQ,cAAF,G,uBACuB9B,CAAAA,OAAO,CAACkC,UAAR,CAAmB,KAAK/B,KAAL,CAAWG,IAA9B,C,QAAjB6B,Q,gBACAzB,O,CAAUyB,QAAQ,CAACzB,O,KACtBA,OAAO,CAACmB,Q,0BACP,KAAKT,QAAL,CAAc,CAACV,OAAO,CAAPA,OAAD,CAAd,E,uDAGmBV,CAAAA,OAAO,CAACiB,QAAR,E,SAAbE,I,gBACN,KAAKC,QAAL,CAAc,CAACV,OAAO,CAAPA,OAAD,CAASN,KAAK,CAAGe,IAAI,CAACE,QAAtB,CAAd,E,QAEJ,KAAKY,SAAL,G,kNAGa,CACb,GAAG,KAAK9B,KAAL,CAAWC,KAAX,CAAiBgC,MAAjB,CAA0B,CAA7B,CAA+B,CAC3B,MACI,qBAAC,SAAD,EAAW,KAAK,CAAI,KAAKjC,KAAL,CAAWC,KAA/B,CACW,aAAa,CAAE,KAAKO,aAD/B,CAEW,YAAY,CAAE,KAAKK,YAF9B,EADJ,CAKH,CACD,MAAO,KAAP,CACH,C,+CAEW,CACR,MACI,qBAAC,IAAD,EAAM,UAAU,CAAE,KAAKb,KAAL,CAAWE,UAA7B,CACM,IAAI,CAAE,KAAKF,KAAL,CAAWG,IADvB,CAEM,YAAY,CAAE,KAAKS,YAFzB,CAGM,OAAO,CAAE,CAAC,KAAKZ,KAAL,CAAWE,UAAZ,CAAyB,KAAKQ,UAA9B,CAA2C,KAAKC,aAH/D,EADJ,CAMH,C,qDAEc,CACX,GAAG,KAAKX,KAAL,CAAWO,OAAX,GAAuB,EAA1B,CACI,MAAO,KAAP,CACJ,MACI,qBAAC,OAAD,EAAS,OAAO,CAAE,KAAKP,KAAL,CAAWO,OAA7B,EADJ,CAGH,C,uCAEO,CACJ,MACI,4BAAK,SAAS,CAAC,KAAf,EACI,2BAAK,SAAS,CAAC,KAAf,EADJ,CAEI,2BAAK,SAAS,CAAC,QAAf,EACK,KAAK2B,eAAL,EADL,CAEK,KAAKC,UAAL,EAFL,CAGK,KAAKC,aAAL,EAHL,CAFJ,CAOI,2BAAK,SAAS,CAAC,KAAf,EAPJ,CADJ,CAWH,C,iBAhIa3C,KAAK,CAAC4C,S","sourcesContent":["import React from 'react';\nimport UserTable from './components/UserTable';\nimport Form from './components/Form';\nimport Message from './components/Message';\nimport UserAPI from './UserAPI';\n\nclass App extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            users : [],\n            isEditForm : false,\n            user : {\n                firstName : \"\",\n                lastName : \"\",\n                job : \"\"\n            },\n            message : \"\"\n        },\n        this.deleteHandler = this.deleteHandler.bind(this);\n        this.addHandler = this.addHandler.bind(this);\n        this.updateHandler = this.updateHandler.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.showEditForm = this.showEditForm.bind(this);\n    }\n\n    componentDidMount(){\n        UserAPI.getUsers().then(data=>{this.setState({users : data.response})});\n    }\n\n    resetForm(){\n        this.setState({\n            user: {\n                firstName : \"\",\n                lastName : \"\",\n                job : \"\"\n            }\n        });\n    }\n\n    handleChange(e){\n        this.setState({\n            user: {\n                ...this.state.user,\n                [e.target.name] : e.target.value\n            }\n        });\n    }\n\n    showEditForm(user){\n        this.setState({isEditForm: true, user : user});\n    }\n\n    async deleteHandler(id){\n        const deleteData = await UserAPI.deleteUser(id);\n        const message = deleteData.message;\n        if(message.msgError){\n            this.setState({message});\n        }\n        else{\n            const data = await UserAPI.getUsers();\n            this.setState({message,users : data.response})\n        }\n    }\n\n    async updateHandler(e){\n        e.preventDefault();\n        const updateData = await UserAPI.updateUser(this.state.user);\n        const message = updateData.message;\n        if(message.msgError){\n            this.setState({message});\n        }\n        else{\n            const data = await UserAPI.getUsers();\n            this.setState({message,users : data.response})\n        }\n        this.setState({isEditForm:false});\n        this.resetForm();\n    }\n\n    async addHandler(e){\n        e.preventDefault();\n        const postData = await UserAPI.createUser(this.state.user);\n        const message = postData.message;\n        if(message.msgError){\n            this.setState({message});\n        }\n        else{\n            const data = await UserAPI.getUsers();\n            this.setState({message,users : data.response})\n        }\n        this.resetForm();\n    }\n\n    renderUserTable(){\n        if(this.state.users.length > 0){\n            return(\n                <UserTable users = {this.state.users} \n                           deleteHandler={this.deleteHandler} \n                           showEditForm={this.showEditForm}/>\n            );\n        }\n        return null;\n    }\n\n    renderForm(){\n        return(\n            <Form isEditForm={this.state.isEditForm}\n                  user={this.state.user}\n                  handleChange={this.handleChange}\n                  handler={!this.state.isEditForm ? this.addHandler : this.updateHandler}/>\n        );\n    }\n\n    renderMessage(){\n        if(this.state.message === \"\")\n            return null;\n        return(\n            <Message message={this.state.message}/>\n        );\n    }\n\n    render(){\n        return(\n            <div className=\"row\">\n                <div className=\"col\"></div>\n                <div className=\"col-10\">\n                    {this.renderUserTable()}\n                    {this.renderForm()}\n                    {this.renderMessage()}\n                </div>\n                <div className=\"col\"></div>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}
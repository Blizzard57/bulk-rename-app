{"ast":null,"code":"var _jsxFileName = \"/home/blizzard/Documents/MernStackApp/frontend/src/App.js\";\nimport React from 'react';\nimport UserTable from './components/UserTable';\nimport Form from './components/Form';\nimport Message from './components/Message';\nimport UserAPI from './UserAPI';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: [],\n      isEditForm: false,\n      user: {\n        firstName: \"\",\n        lastName: \"\",\n        job: \"\"\n      },\n      message: \"\"\n    };\n    this.deleteHandler = this.deleteHandler.bind(this);\n    this.addHandler = this.addHandler.bind(this);\n    this.updateHandler = this.updateHandler.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.showEditForm = this.showEditForm.bind(this);\n  }\n\n  componentDidMount() {\n    UserAPI.getUser().then(data => {\n      this.setState({\n        user: data.response\n      });\n    });\n  }\n\n  resetForm() {\n    this.setState({\n      user: {\n        firstName: \"\",\n        lastName: \"\",\n        job: \"\"\n      }\n    });\n  }\n\n  handleChange(e) {\n    this.setState({\n      user: { ...this.state.user,\n        [e.target.name]: e.target.value\n      }\n    });\n  }\n\n  showEditForm(user) {\n    this.setState({\n      isEditForm: true,\n      user: user\n    });\n  }\n\n  async deleteHandler(id) {\n    const deleteData = await UserAPI.deleteUser(id);\n    const message = deleteData.message;\n\n    if (message.msgError) {\n      this.setState({\n        message\n      });\n    } else {\n      const data = await UserAPI.getUsers();\n      this.setState({\n        message,\n        users: data.response\n      });\n    }\n  }\n\n  async updateHandler(e) {\n    e.preventDefault();\n    const updateData = await UserAPI.updateUser(this.state.user);\n    const message = updateData.message;\n\n    if (message.msgError) {\n      this.setState({\n        message\n      });\n    } else {\n      const data = await UserAPI.getUsers();\n      this.setState({\n        message,\n        users: data.response\n      });\n    }\n\n    this.setState({\n      isEditForm: false\n    });\n    this.resetForm();\n  }\n\n  async addHandler(e) {\n    e.preventDefault();\n    const postData = await UserAPI.createUser(this.state.user);\n    const message = postData.message;\n\n    if (message.msgError) {\n      this.setState({\n        message\n      });\n    } else {\n      const data = await UserAPI.getUsers();\n      this.setState({\n        message,\n        users: data.response\n      });\n    }\n\n    this.resetForm();\n  }\n\n  renderUserTable() {\n    if (this.state.user.length > 0) {\n      return React.createElement(UserTable, {\n        user: this.state.user,\n        deleteHandler: this.deleteHandler,\n        showEditForm: this.showEditForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      });\n    }\n\n    return null;\n  }\n\n  renderForm() {\n    return React.createElement(Form, {\n      isEditForm: this.state.isEditForm,\n      user: this.state.user,\n      handleChange: this.handleChange,\n      handler: !this.state.isEditForm ? this.addHandler : this.updateHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    });\n  }\n\n  renderMessage() {\n    if (this.state.message === \"\") return null;\n    return React.createElement(Message, {\n      message: this.state.message,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, this.renderUserTable(), this.renderForm(), this.renderMessage()), React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/blizzard/Documents/MernStackApp/frontend/src/App.js"],"names":["React","UserTable","Form","Message","UserAPI","App","Component","constructor","props","state","user","isEditForm","firstName","lastName","job","message","deleteHandler","bind","addHandler","updateHandler","handleChange","showEditForm","componentDidMount","getUser","then","data","setState","response","resetForm","e","target","name","value","id","deleteData","deleteUser","msgError","getUsers","users","preventDefault","updateData","updateUser","postData","createUser","renderUserTable","length","renderForm","renderMessage","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport UserTable from './components/UserTable';\nimport Form from './components/Form';\nimport Message from './components/Message';\nimport UserAPI from './UserAPI';\n\nclass App extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            user : [],\n            isEditForm : false,\n            user : {\n                firstName : \"\",\n                lastName : \"\",\n                job : \"\"\n            },\n            message : \"\"\n        };\n        \n        this.deleteHandler = this.deleteHandler.bind(this);\n        this.addHandler = this.addHandler.bind(this);\n        this.updateHandler = this.updateHandler.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.showEditForm = this.showEditForm.bind(this);\n    }\n\n    componentDidMount(){\n        UserAPI.getUser().then(data=>{this.setState({user : data.response})});\n    }\n\n    resetForm(){\n        this.setState({\n            user: {\n                firstName : \"\",\n                lastName : \"\",\n                job : \"\"\n            }\n        });\n    }\n\n    handleChange(e){\n        this.setState({\n            user: {\n                ...this.state.user,\n                [e.target.name] : e.target.value\n            }\n        });\n    }\n\n    showEditForm(user){\n        this.setState({isEditForm: true, user : user});\n    }\n\n    async deleteHandler(id){\n        const deleteData = await UserAPI.deleteUser(id);\n        const message = deleteData.message;\n        if(message.msgError){\n            this.setState({message});\n        }\n        else{\n            const data = await UserAPI.getUsers();\n            this.setState({message,users : data.response})\n        }\n    }\n\n    async updateHandler(e){\n        e.preventDefault();\n        const updateData = await UserAPI.updateUser(this.state.user);\n        const message = updateData.message;\n        if(message.msgError){\n            this.setState({message});\n        }\n        else{\n            const data = await UserAPI.getUsers();\n            this.setState({message,users : data.response})\n        }\n        this.setState({isEditForm:false});\n        this.resetForm();\n    }\n\n    async addHandler(e){\n        e.preventDefault();\n        const postData = await UserAPI.createUser(this.state.user);\n        const message = postData.message;\n        if(message.msgError){\n            this.setState({message});\n        }\n        else{\n            const data = await UserAPI.getUsers();\n            this.setState({message,users : data.response})\n        }\n        this.resetForm();\n    }\n\n    renderUserTable(){\n        if(this.state.user.length > 0){\n            return(\n                <UserTable user = {this.state.user} \n                           deleteHandler={this.deleteHandler} \n                           showEditForm={this.showEditForm}/>\n            );\n        }\n        return null;\n    }\n\n    renderForm(){\n        return(\n            <Form isEditForm={this.state.isEditForm}\n                  user={this.state.user}\n                  handleChange={this.handleChange}\n                  handler={!this.state.isEditForm ? this.addHandler : this.updateHandler}/>\n        );\n    }\n\n    renderMessage(){\n        if(this.state.message === \"\")\n            return null;\n        return(\n            <Message message={this.state.message}/>\n        );\n    }\n\n    render(){\n        return(\n            <div className=\"row\">\n                <div className=\"col\"></div>\n                <div className=\"col-10\">\n                    {this.renderUserTable()}\n                    {this.renderForm()}\n                    {this.renderMessage()}\n                </div>\n                <div className=\"col\"></div>\n            </div>\n        )\n    }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}